{"paragraphs":[{"title":"Import needed packages","text":"import org.apache.spark._\nimport org.apache.spark.sql.SparkSession\nimport org.apache.spark.sql.functions._\nimport org.apache.spark.sql.types._\nimport org.apache.spark.sql._\nimport org.apache.spark.sql.Dataset\nimport org.apache.spark.sql.types.TimestampType\nimport org.apache.spark.ml.feature.VectorAssembler\nimport org.apache.spark.ml.clustering.KMeans","user":"anonymous","dateUpdated":"2017-07-12T14:36:39-0700","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"editorSetting":{"language":"scala"},"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nimport org.apache.spark._\n\nimport org.apache.spark.sql.SparkSession\n\nimport org.apache.spark.sql.functions._\n\nimport org.apache.spark.sql.types._\n\nimport org.apache.spark.sql._\n\nimport org.apache.spark.sql.Dataset\n\nimport org.apache.spark.sql.types.TimestampType\n\nimport org.apache.spark.ml.feature.VectorAssembler\n\nimport org.apache.spark.ml.clustering.KMeans\n"}]},"apps":[],"jobName":"paragraph_1499461253763_-15104912","id":"20161030-025214_1655763979","dateCreated":"2017-07-07T14:00:53-0700","dateStarted":"2017-07-12T14:36:39-0700","dateFinished":"2017-07-12T14:36:44-0700","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:918"},{"title":"Define Schema for csv file data","text":"\ncase class Uber(dt: String, lat: Double, lon: Double, base: String) extends Serializable\n\nval schema = StructType(Array(\n      StructField(\"dt\", TimestampType, true),\n      StructField(\"lat\", DoubleType, true),\n      StructField(\"lon\", DoubleType, true),\n      StructField(\"base\", StringType, true)\n))","user":"anonymous","dateUpdated":"2017-07-12T14:37:01-0700","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"editorSetting":{"language":"scala"},"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\ndefined class Uber\n\nschema: org.apache.spark.sql.types.StructType = StructType(StructField(dt,TimestampType,true), StructField(lat,DoubleType,true), StructField(lon,DoubleType,true), StructField(base,StringType,true))\n"}]},"apps":[],"jobName":"paragraph_1499461253765_-17413406","id":"20161030-030543_519944270","dateCreated":"2017-07-07T14:00:53-0700","dateStarted":"2017-07-12T14:37:01-0700","dateFinished":"2017-07-12T14:37:03-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:919"},{"title":"Read the data from CSV file into a Dataset of Account type","text":"import sqlContext.implicits._\nval df: Dataset[Uber] = spark.read.option(\"inferSchema\", \"false\").schema(schema).csv(\"/user/user01/data/uber.csv\").as[Uber]\ndf.cache\ndf.show\n","user":"anonymous","dateUpdated":"2017-07-12T14:37:16-0700","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"editorSetting":{"language":"scala"},"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nimport sqlContext.implicits._\n\ndf: org.apache.spark.sql.Dataset[Uber] = [dt: timestamp, lat: double ... 2 more fields]\n\nres4: df.type = [dt: timestamp, lat: double ... 2 more fields]\n+--------------------+-------+--------+------+\n|                  dt|    lat|     lon|  base|\n+--------------------+-------+--------+------+\n|2014-08-01 00:00:...| 40.729|-73.9422|B02598|\n|2014-08-01 00:00:...|40.7476|-73.9871|B02598|\n|2014-08-01 00:00:...|40.7424|-74.0044|B02598|\n|2014-08-01 00:00:...| 40.751|-73.9869|B02598|\n|2014-08-01 00:00:...|40.7406|-73.9902|B02598|\n|2014-08-01 00:00:...|40.6994|-73.9591|B02617|\n|2014-08-01 00:00:...|40.6917|-73.9398|B02617|\n|2014-08-01 00:00:...|40.7063|-73.9223|B02617|\n|2014-08-01 00:00:...|40.6759|-74.0168|B02617|\n|2014-08-01 00:00:...|40.7617|-73.9847|B02617|\n|2014-08-01 00:00:...|40.6969|-73.9064|B02617|\n|2014-08-01 00:00:...|40.7623|-73.9751|B02617|\n|2014-08-01 00:00:...|40.6982|-73.9669|B02617|\n|2014-08-01 00:00:...|40.7553|-73.9253|B02617|\n|2014-08-01 00:00:...|40.7325|-73.9876|B02682|\n|2014-08-01 00:00:...|40.6754| -74.017|B02682|\n|2014-08-01 00:00:...|40.7303|-74.0029|B02682|\n|2014-08-01 00:00:...|40.7218|-73.9973|B02682|\n|2014-08-01 00:00:...|40.7134|-74.0091|B02682|\n|2014-08-01 00:00:...|40.7194|-73.9964|B02682|\n+--------------------+-------+--------+------+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1499461253769_-18952401","id":"20161030-030618_394385178","dateCreated":"2017-07-07T14:00:53-0700","dateStarted":"2017-07-12T14:37:17-0700","dateFinished":"2017-07-12T14:37:21-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:920"},{"text":"df.printSchema","user":"anonymous","dateUpdated":"2017-07-10T22:46:12-0700","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"editorSetting":{"language":"scala"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"root\n |-- dt: timestamp (nullable = true)\n |-- lat: double (nullable = true)\n |-- lon: double (nullable = true)\n |-- base: string (nullable = true)\n\n"}]},"apps":[],"jobName":"paragraph_1499461253769_-18952401","id":"20161030-030707_2084899217","dateCreated":"2017-07-07T14:00:53-0700","dateStarted":"2017-07-10T22:46:12-0700","dateFinished":"2017-07-10T22:46:13-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:921"},{"title":"Define Features Array","text":"\nval featureCols = Array(\"lat\", \"lon\")\nval assembler = new VectorAssembler().setInputCols(featureCols).setOutputCol(\"features\")\nval df2 = assembler.transform(df)\ndf2.show","user":"anonymous","dateUpdated":"2017-07-12T14:39:11-0700","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"editorSetting":{"language":"scala"},"tableHide":false,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nfeatureCols: Array[String] = Array(lat, lon)\n\nassembler: org.apache.spark.ml.feature.VectorAssembler = vecAssembler_692fe723f343\n\ndf2: org.apache.spark.sql.DataFrame = [dt: timestamp, lat: double ... 3 more fields]\n+--------------------+-------+--------+------+------------------+\n|                  dt|    lat|     lon|  base|          features|\n+--------------------+-------+--------+------+------------------+\n|2014-08-01 00:00:...| 40.729|-73.9422|B02598| [40.729,-73.9422]|\n|2014-08-01 00:00:...|40.7476|-73.9871|B02598|[40.7476,-73.9871]|\n|2014-08-01 00:00:...|40.7424|-74.0044|B02598|[40.7424,-74.0044]|\n|2014-08-01 00:00:...| 40.751|-73.9869|B02598| [40.751,-73.9869]|\n|2014-08-01 00:00:...|40.7406|-73.9902|B02598|[40.7406,-73.9902]|\n|2014-08-01 00:00:...|40.6994|-73.9591|B02617|[40.6994,-73.9591]|\n|2014-08-01 00:00:...|40.6917|-73.9398|B02617|[40.6917,-73.9398]|\n|2014-08-01 00:00:...|40.7063|-73.9223|B02617|[40.7063,-73.9223]|\n|2014-08-01 00:00:...|40.6759|-74.0168|B02617|[40.6759,-74.0168]|\n|2014-08-01 00:00:...|40.7617|-73.9847|B02617|[40.7617,-73.9847]|\n|2014-08-01 00:00:...|40.6969|-73.9064|B02617|[40.6969,-73.9064]|\n|2014-08-01 00:00:...|40.7623|-73.9751|B02617|[40.7623,-73.9751]|\n|2014-08-01 00:00:...|40.6982|-73.9669|B02617|[40.6982,-73.9669]|\n|2014-08-01 00:00:...|40.7553|-73.9253|B02617|[40.7553,-73.9253]|\n|2014-08-01 00:00:...|40.7325|-73.9876|B02682|[40.7325,-73.9876]|\n|2014-08-01 00:00:...|40.6754| -74.017|B02682| [40.6754,-74.017]|\n|2014-08-01 00:00:...|40.7303|-74.0029|B02682|[40.7303,-74.0029]|\n|2014-08-01 00:00:...|40.7218|-73.9973|B02682|[40.7218,-73.9973]|\n|2014-08-01 00:00:...|40.7134|-74.0091|B02682|[40.7134,-74.0091]|\n|2014-08-01 00:00:...|40.7194|-73.9964|B02682|[40.7194,-73.9964]|\n+--------------------+-------+--------+------+------------------+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1499461253770_-17798155","id":"20161030-041240_922666463","dateCreated":"2017-07-07T14:00:53-0700","dateStarted":"2017-07-12T14:39:11-0700","dateFinished":"2017-07-12T14:39:14-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:922"},{"title":"Create KMeans Estimator","text":"val kmeans = new KMeans().setK(20).setFeaturesCol(\"features\").setMaxIter(10)","user":"anonymous","dateUpdated":"2017-07-12T14:39:52-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nkmeans: org.apache.spark.ml.clustering.KMeans = kmeans_ac2406948491\n"}]},"apps":[],"jobName":"paragraph_1499721556522_-732762345","id":"20170710-141916_128183205","dateCreated":"2017-07-10T14:19:16-0700","dateStarted":"2017-07-12T14:39:52-0700","dateFinished":"2017-07-12T14:39:53-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:923"},{"title":"Fit the model to the Training data ","text":"val Array(trainingData, testData) = df2.randomSplit(Array(0.7, 0.3), 5043)\nval model = kmeans.fit(trainingData)\nprintln(\"Final Centers: \")\nmodel.clusterCenters.foreach(println)","user":"anonymous","dateUpdated":"2017-07-12T14:41:02-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\n\ntrainingData: org.apache.spark.sql.Dataset[org.apache.spark.sql.Row] = [dt: timestamp, lat: double ... 3 more fields]\ntestData: org.apache.spark.sql.Dataset[org.apache.spark.sql.Row] = [dt: timestamp, lat: double ... 3 more fields]\n\nmodel: org.apache.spark.ml.clustering.KMeansModel = kmeans_ac2406948491\nFinal Centers: \n[40.72660911077645,-73.98917232981626]\n[40.64609765799116,-73.78281491758385]\n[40.7428946145125,-73.66358276643993]\n[40.19553862275448,-74.03982005988026]\n[40.74418245292011,-73.99834543927251]\n[40.66769131453637,-73.97867328344304]\n[40.80071083453548,-73.96131403667823]\n[40.769246277712085,-73.87431772462058]\n[40.76908312435993,-73.95108637160125]\n[41.00137756892232,-73.77536403508782]\n[40.76951074481075,-73.47011953601952]\n[40.69526321994591,-74.17986948202577]\n[40.86046186462323,-73.91194975734356]\n[40.800159722222205,-73.09867175925925]\n[40.70833049181757,-73.94646767902005]\n[40.572881939799316,-74.41083946488294]\n[40.86541329561527,-74.2499240452617]\n[40.75975852142163,-73.97945721301947]\n[40.7288231603198,-73.83419447079568]\n[40.71562093935289,-74.00870020550346]\n"}]},"apps":[],"jobName":"paragraph_1499722289933_185278058","id":"20170710-143129_239931631","dateCreated":"2017-07-10T14:31:29-0700","dateStarted":"2017-07-12T14:41:02-0700","dateFinished":"2017-07-12T14:41:44-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:924"},{"text":"//  K-means cost (sum of squared distances of points to their nearest center) \nval cost = model.computeCost(trainingData)","user":"anonymous","dateUpdated":"2017-07-12T14:45:11-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\ncost: Double = 248.04353700166956\n"}]},"apps":[],"jobName":"paragraph_1499726770183_-1499548363","id":"20170710-154610_1239995350","dateCreated":"2017-07-10T15:46:10-0700","dateStarted":"2017-07-12T14:45:11-0700","dateFinished":"2017-07-12T14:45:12-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:925"},{"title":"Get Cluster groupings for Evaluation","text":" val clusters = model.transform(testData)\n clusters.show\n clusters.registerTempTable(\"uber\")\n","user":"anonymous","dateUpdated":"2017-07-12T14:46:47-0700","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"editorSetting":{"language":"scala"},"tableHide":false,"editorHide":false,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nclusters: org.apache.spark.sql.DataFrame = [dt: timestamp, lat: double ... 4 more fields]\n+--------------------+-------+--------+------+------------------+----------+\n|                  dt|    lat|     lon|  base|          features|prediction|\n+--------------------+-------+--------+------+------------------+----------+\n|2014-08-01 00:00:...|40.3495|-74.0667|B02682|[40.3495,-74.0667]|         3|\n|2014-08-01 00:00:...|40.6759|-74.0168|B02617|[40.6759,-74.0168]|         5|\n|2014-08-01 00:00:...|40.6982|-73.9669|B02617|[40.6982,-73.9669]|        14|\n|2014-08-01 00:00:...|40.7134|-74.0091|B02682|[40.7134,-74.0091]|        19|\n|2014-08-01 00:01:...|40.6718|-73.9522|B02682|[40.6718,-73.9522]|         5|\n|2014-08-01 00:02:...|40.6123| -73.956|B02598| [40.6123,-73.956]|         5|\n|2014-08-01 00:03:...|40.6748|-73.9815|B02598|[40.6748,-73.9815]|         5|\n|2014-08-01 00:03:...|40.6969|-73.9064|B02598|[40.6969,-73.9064]|        14|\n|2014-08-01 00:03:...|40.7133|-73.9414|B02617|[40.7133,-73.9414]|        14|\n|2014-08-01 00:03:...|40.7231|-73.8529|B02598|[40.7231,-73.8529]|        18|\n|2014-08-01 00:03:...|40.7364|-74.0301|B02617|[40.7364,-74.0301]|        19|\n|2014-08-01 00:03:...|40.7366|-73.9906|B02512|[40.7366,-73.9906]|         0|\n|2014-08-01 00:03:...|40.7524|-73.9858|B02598|[40.7524,-73.9858]|        17|\n|2014-08-01 00:03:...|40.7574|-73.9668|B02617|[40.7574,-73.9668]|        17|\n|2014-08-01 00:04:...|40.7047|-73.9349|B02617|[40.7047,-73.9349]|        14|\n|2014-08-01 00:04:...|40.7209|-73.9977|B02682|[40.7209,-73.9977]|         0|\n|2014-08-01 00:04:...|40.7213|-73.9946|B02598|[40.7213,-73.9946]|         0|\n|2014-08-01 00:04:...|40.7272|-73.9917|B02598|[40.7272,-73.9917]|         0|\n|2014-08-01 00:04:...| 40.753|-73.9787|B02598| [40.753,-73.9787]|        17|\n|2014-08-01 00:05:...|40.7247|-73.9957|B02598|[40.7247,-73.9957]|         0|\n+--------------------+-------+--------+------+------------------+----------+\nonly showing top 20 rows\n\n\nwarning: there was one deprecation warning; re-run with -deprecation for details\n"}]},"apps":[],"jobName":"paragraph_1499461253770_-17798155","id":"20161030-080908_381831760","dateCreated":"2017-07-07T14:00:53-0700","dateStarted":"2017-07-12T14:46:31-0700","dateFinished":"2017-07-12T14:46:33-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:926"},{"title":"How many pickups occurred in each cluster?","text":"clusters.groupBy(\"prediction\").count().orderBy(desc( \"count\")).show","user":"anonymous","dateUpdated":"2017-07-12T15:01:28-0700","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+----------+-----+\n|prediction|count|\n+----------+-----+\n|        17|55168|\n|         4|40401|\n|         0|34506|\n|        19|27485|\n|        14|19830|\n|         8|18553|\n|         5|16820|\n|         6|10621|\n|         7| 7324|\n|         1| 6744|\n|        12| 3297|\n|        18| 3152|\n|        11| 2181|\n|         2|  812|\n|         9|  673|\n|        10|  326|\n|        16|  279|\n|         3|  143|\n|        15|  139|\n|        13|   93|\n+----------+-----+\n\n"}]},"apps":[],"jobName":"paragraph_1499728190776_1392999325","id":"20170710-160950_712231335","dateCreated":"2017-07-10T16:09:50-0700","dateStarted":"2017-07-12T15:01:28-0700","dateFinished":"2017-07-12T15:01:35-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:927"},{"title":"which hours of the day and which cluster had the highest number of pickups? ","text":"\nclusters.select(hour($\"dt\").alias(\"hour\"), $\"prediction\")\n.groupBy(\"hour\",\"prediction\").agg(count(\"prediction\")\n.alias(\"count\")).orderBy(desc( \"count\")).show\n","user":"anonymous","dateUpdated":"2017-07-12T15:04:00-0700","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"editorSetting":{"language":"scala"},"tableHide":false,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+----+----------+-----+\n|hour|prediction|count|\n+----+----------+-----+\n|  17|        17| 4535|\n|  16|        17| 4419|\n|  18|        17| 4306|\n|  19|        17| 4044|\n|  15|        17| 3816|\n|  20|        17| 3684|\n|  21|        17| 3353|\n|  17|         4| 3108|\n|  14|        17| 2916|\n|  16|         4| 2833|\n|  18|         4| 2723|\n|  21|         4| 2671|\n|  22|        17| 2599|\n|  19|         4| 2581|\n|  20|         4| 2484|\n|  13|        17| 2464|\n|  22|         4| 2431|\n|  15|         4| 2387|\n|  21|         0| 2295|\n|  22|         0| 2258|\n+----+----------+-----+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1499461253771_-18182904","id":"20161031-003546_1652957647","dateCreated":"2017-07-07T14:00:53-0700","dateStarted":"2017-07-12T15:04:00-0700","dateFinished":"2017-07-12T15:04:06-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:928"},{"text":"z.show(clusters.select(hour($\"dt\").alias(\"hour\"), $\"prediction\")\n.groupBy(\"hour\",\"prediction\").agg(count(\"prediction\")\n.alias(\"count\")).orderBy( \"hour\",\"prediction\"))\n","user":"anonymous","dateUpdated":"2017-07-10T22:47:48-0700","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":[{"helium":{},"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"keys":[{"name":"hour","index":0,"aggr":"sum"}],"values":[{"name":"count","index":2,"aggr":"sum"}],"groups":[{"name":"prediction","index":1,"aggr":"sum"}],"scatter":{"xAxis":{"name":"hour","index":0,"aggr":"sum"},"yAxis":{"name":"prediction","index":1,"aggr":"sum"}}}}],"enabled":true,"editorSetting":{"language":"scala"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"hour\tprediction\tcount\n0\t0\t1274\n0\t1\t140\n0\t2\t26\n0\t3\t13\n0\t4\t1264\n0\t5\t514\n0\t6\t227\n0\t7\t63\n0\t8\t314\n0\t9\t13\n0\t10\t14\n0\t11\t54\n0\t12\t80\n0\t13\t2\n0\t14\t886\n0\t15\t9\n0\t16\t12\n0\t17\t1009\n0\t18\t84\n0\t19\t573\n1\t0\t876\n1\t1\t36\n1\t2\t12\n1\t3\t4\n1\t4\t930\n1\t5\t300\n1\t6\t147\n1\t7\t40\n1\t8\t180\n1\t9\t14\n1\t10\t9\n1\t11\t31\n1\t12\t56\n1\t13\t2\n1\t14\t624\n1\t15\t9\n1\t16\t15\n1\t17\t592\n1\t18\t45\n1\t19\t375\n2\t0\t616\n2\t1\t14\n2\t2\t16\n2\t3\t2\n2\t4\t631\n2\t5\t215\n2\t6\t116\n2\t7\t33\n2\t8\t133\n2\t9\t3\n2\t10\t7\n2\t11\t7\n2\t12\t40\n2\t13\t3\n2\t14\t478\n2\t15\t5\n2\t16\t4\n2\t17\t407\n2\t18\t25\n2\t19\t265\n3\t0\t505\n3\t1\t17\n3\t2\t9\n3\t4\t547\n3\t5\t265\n3\t6\t183\n3\t7\t46\n3\t8\t247\n3\t9\t6\n3\t10\t1\n3\t11\t13\n3\t12\t56\n3\t13\t2\n3\t14\t414\n3\t16\t7\n3\t17\t512\n3\t18\t53\n3\t19\t297\n4\t0\t471\n4\t1\t201\n4\t2\t12\n4\t4\t464\n4\t5\t295\n4\t6\t186\n4\t7\t53\n4\t8\t255\n4\t9\t7\n4\t10\t4\n4\t11\t51\n4\t12\t58\n4\t13\t2\n4\t14\t397\n4\t15\t5\n4\t16\t5\n4\t17\t514\n4\t18\t63\n4\t19\t374\n5\t0\t643\n5\t1\t321\n5\t2\t12\n5\t3\t1\n5\t4\t594\n5\t5\t448\n5\t6\t341\n5\t7\t80\n5\t8\t485\n5\t9\t15\n5\t10\t2\n5\t11\t52\n5\t12\t81\n5\t13\t1\n5\t14\t566\n5\t15\t3\n5\t16\t5\n5\t17\t758\n5\t18\t89\n5\t19\t488\n6\t0\t1124\n6\t1\t337\n6\t2\t18\n6\t4\t973\n6\t5\t608\n6\t6\t517\n6\t7\t166\n6\t8\t864\n6\t9\t16\n6\t10\t8\n6\t11\t59\n6\t12\t108\n6\t14\t676\n6\t15\t2\n6\t16\t7\n6\t17\t1156\n6\t18\t100\n6\t19\t673\n7\t0\t1592\n7\t1\t185\n7\t2\t32\n7\t4\t1420\n7\t5\t738\n7\t6\t658\n7\t7\t251\n7\t8\t1304\n7\t9\t22\n7\t10\t10\n7\t11\t61\n7\t12\t119\n7\t13\t2\n7\t14\t827\n7\t15\t3\n7\t16\t13\n7\t17\t1969\n7\t18\t117\n7\t19\t851\n8\t0\t1702\n8\t1\t107\n8\t2\t44\n8\t3\t1\n8\t4\t1533\n8\t5\t736\n8\t6\t643\n8\t7\t331\n8\t8\t1217\n8\t9\t17\n8\t10\t12\n8\t11\t58\n8\t12\t122\n8\t13\t2\n8\t14\t817\n8\t15\t3\n8\t16\t10\n8\t17\t2098\n8\t18\t83\n8\t19\t1008\n9\t0\t1223\n9\t1\t124\n9\t2\t30\n9\t4\t1233\n9\t5\t661\n9\t6\t497\n9\t7\t398\n9\t8\t935\n9\t9\t31\n9\t10\t14\n9\t11\t59\n9\t12\t132\n9\t13\t1\n9\t14\t821\n9\t15\t3\n9\t16\t9\n9\t17\t1865\n9\t18\t127\n9\t19\t903\n10\t0\t1075\n10\t1\t145\n10\t2\t38\n10\t3\t2\n10\t4\t1271\n10\t5\t692\n10\t6\t472\n10\t7\t372\n10\t8\t856\n10\t9\t27\n10\t10\t21\n10\t11\t77\n10\t12\t138\n10\t13\t3\n10\t14\t778\n10\t15\t9\n10\t16\t13\n10\t17\t2083\n10\t18\t116\n10\t19\t964\n11\t0\t1102\n11\t1\t146\n11\t2\t46\n11\t4\t1359\n11\t5\t710\n11\t6\t455\n11\t7\t357\n11\t8\t806\n11\t9\t32\n11\t10\t11\n11\t11\t109\n11\t12\t150\n11\t13\t3\n11\t14\t771\n11\t15\t6\n11\t16\t13\n11\t17\t2167\n11\t18\t135\n11\t19\t1055\n12\t0\t1205\n12\t1\t213\n12\t2\t37\n12\t3\t2\n12\t4\t1504\n12\t5\t628\n12\t6\t439\n12\t7\t292\n12\t8\t770\n12\t9\t39\n12\t10\t14\n12\t11\t102\n12\t12\t159\n12\t13\t5\n12\t14\t734\n12\t15\t6\n12\t16\t7\n12\t17\t2231\n12\t18\t125\n12\t19\t1113\n13\t0\t1321\n13\t1\t302\n13\t2\t38\n13\t3\t1\n13\t4\t1636\n13\t5\t717\n13\t6\t501\n13\t7\t396\n13\t8\t805\n13\t9\t36\n13\t10\t26\n13\t11\t133\n13\t12\t182\n13\t13\t4\n13\t14\t735\n13\t15\t5\n13\t16\t11\n13\t17\t2464\n13\t18\t141\n13\t19\t1273\n14\t0\t1417\n14\t1\t533\n14\t2\t55\n14\t3\t2\n14\t4\t2001\n14\t5\t767\n14\t6\t497\n14\t7\t381\n14\t8\t868\n14\t9\t50\n14\t10\t15\n14\t11\t114\n14\t12\t174\n14\t13\t4\n14\t14\t735\n14\t15\t12\n14\t16\t13\n14\t17\t2916\n14\t18\t153\n14\t19\t1470\n15\t0\t1845\n15\t1\t468\n15\t2\t46\n15\t4\t2387\n15\t5\t751\n15\t6\t508\n15\t7\t461\n15\t8\t1008\n15\t9\t36\n15\t10\t22\n15\t11\t170\n15\t12\t207\n15\t13\t6\n15\t14\t819\n15\t15\t3\n15\t16\t12\n15\t17\t3816\n15\t18\t163\n15\t19\t1613\n16\t0\t1793\n16\t1\t430\n16\t2\t42\n16\t3\t13\n16\t4\t2833\n16\t5\t887\n16\t6\t534\n16\t7\t445\n16\t8\t1095\n16\t9\t43\n16\t10\t18\n16\t11\t140\n16\t12\t192\n16\t13\t9\n16\t14\t849\n16\t15\t10\n16\t16\t12\n16\t17\t4419\n16\t18\t167\n16\t19\t2010\n17\t0\t2058\n17\t1\t339\n17\t2\t51\n17\t3\t7\n17\t4\t3108\n17\t5\t978\n17\t6\t620\n17\t7\t517\n17\t8\t1183\n17\t9\t53\n17\t10\t18\n17\t11\t141\n17\t12\t158\n17\t13\t8\n17\t14\t1022\n17\t15\t8\n17\t16\t18\n17\t17\t4535\n17\t18\t183\n17\t19\t2111\n18\t0\t2112\n18\t1\t364\n18\t2\t42\n18\t3\t9\n18\t4\t2723\n18\t5\t958\n18\t6\t593\n18\t7\t491\n18\t8\t1287\n18\t9\t40\n18\t10\t24\n18\t11\t123\n18\t12\t149\n18\t13\t9\n18\t14\t1098\n18\t15\t5\n18\t16\t6\n18\t17\t4306\n18\t18\t186\n18\t19\t2053\n19\t0\t2054\n19\t1\t481\n19\t2\t38\n19\t3\t11\n19\t4\t2581\n19\t5\t1010\n19\t6\t537\n19\t7\t528\n19\t8\t1019\n19\t9\t33\n19\t10\t12\n19\t11\t155\n19\t12\t173\n19\t13\t5\n19\t14\t1164\n19\t15\t9\n19\t16\t12\n19\t17\t4044\n19\t18\t177\n19\t19\t1965\n20\t0\t2210\n20\t1\t471\n20\t2\t34\n20\t3\t16\n20\t4\t2484\n20\t5\t1042\n20\t6\t558\n20\t7\t511\n20\t8\t930\n20\t9\t40\n20\t10\t12\n20\t11\t134\n20\t12\t218\n20\t13\t3\n20\t14\t1109\n20\t15\t3\n20\t16\t14\n20\t17\t3684\n20\t18\t205\n20\t19\t1821\n21\t0\t2295\n21\t1\t531\n21\t2\t55\n21\t3\t23\n21\t4\t2671\n21\t5\t1105\n21\t6\t559\n21\t7\t523\n21\t8\t805\n21\t9\t38\n21\t10\t15\n21\t11\t113\n21\t12\t229\n21\t13\t7\n21\t14\t1198\n21\t15\t8\n21\t16\t25\n21\t17\t3353\n21\t18\t267\n21\t19\t1716\n22\t0\t2258\n22\t1\t456\n22\t2\t40\n22\t3\t20\n22\t4\t2431\n22\t5\t1030\n22\t6\t494\n22\t7\t435\n22\t8\t722\n22\t9\t36\n22\t10\t19\n22\t11\t124\n22\t12\t195\n22\t13\t8\n22\t14\t1202\n22\t15\t6\n22\t16\t17\n22\t17\t2599\n22\t18\t212\n22\t19\t1460\n23\t0\t1735\n23\t1\t383\n23\t2\t39\n23\t3\t16\n23\t4\t1823\n23\t5\t765\n23\t6\t339\n23\t7\t154\n23\t8\t465\n23\t9\t26\n23\t10\t18\n23\t11\t101\n23\t12\t121\n23\t13\t2\n23\t14\t1110\n23\t15\t7\n23\t16\t19\n23\t17\t1671\n23\t18\t136\n23\t19\t1054\n"}]},"apps":[],"jobName":"paragraph_1499461253775_-19721899","id":"20161031-005512_510256311","dateCreated":"2017-07-07T14:00:53-0700","dateStarted":"2017-07-10T22:47:48-0700","dateFinished":"2017-07-10T22:47:52-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:929"},{"text":"z.show(sqlContext.sql(\"SELECT hour(uber.dt) as hr,count(prediction) as ct FROM uber group By hour(uber.dt)\"))","user":"anonymous","dateUpdated":"2017-07-10T22:47:58-0700","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":[{"helium":{},"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"keys":[{"name":"hr","index":0,"aggr":"sum"}],"values":[{"name":"ct","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"hr","index":0,"aggr":"sum"},"yAxis":{"name":"ct","index":1,"aggr":"sum"}}}}],"enabled":true,"editorSetting":{"language":"scala"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"hr\tct\n12\t9625\n22\t13764\n1\t4297\n13\t10727\n6\t7412\n16\t15941\n3\t3180\n20\t15499\n5\t4985\n19\t16008\n15\t14341\n9\t9066\n17\t17116\n4\t3417\n8\t10544\n23\t9984\n7\t10174\n10\t9152\n21\t15536\n11\t9433\n14\t12177\n2\t3020\n0\t6571\n18\t16578\n"}]},"apps":[],"jobName":"paragraph_1499461253778_-8564181","id":"20161031-005940_1796057341","dateCreated":"2017-07-07T14:00:53-0700","dateStarted":"2017-07-10T22:47:58-0700","dateFinished":"2017-07-10T22:48:02-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:930"},{"text":"%sql\n\nSELECT * from uber limit 5\n","user":"anonymous","dateUpdated":"2017-07-10T22:54:15-0700","config":{"colWidth":12,"editorMode":"ace/mode/sql","results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"editorSetting":{"language":"sql"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"dt\tlat\tlon\tbase\tfeatures\tprediction\n2014-08-01 00:00:00.0\t40.3495\t-74.0667\tB02682\t[40.3495,-74.0667]\t3\n2014-08-01 00:00:00.0\t40.6759\t-74.0168\tB02617\t[40.6759,-74.0168]\t5\n2014-08-01 00:00:00.0\t40.6982\t-73.9669\tB02617\t[40.6982,-73.9669]\t14\n2014-08-01 00:00:00.0\t40.7134\t-74.0091\tB02682\t[40.7134,-74.0091]\t19\n2014-08-01 00:01:00.0\t40.6718\t-73.9522\tB02682\t[40.6718,-73.9522]\t5\n"}]},"apps":[],"jobName":"paragraph_1499461253779_-8948930","id":"20161031-010009_1770812714","dateCreated":"2017-07-07T14:00:53-0700","dateStarted":"2017-07-10T22:54:16-0700","dateFinished":"2017-07-10T22:54:17-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:931"},{"text":"%sql\nSELECT COUNT(prediction), prediction\nFROM uber\nGROUP BY prediction\nORDER BY COUNT(prediction) DESC\n","user":"anonymous","dateUpdated":"2017-07-10T22:57:23-0700","config":{"colWidth":12,"editorMode":"ace/mode/sql","results":[{"helium":{},"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"keys":[{"name":"prediction","index":1,"aggr":"sum"}],"values":[{"name":"count(prediction)","index":0,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"hr","index":0,"aggr":"sum"}},"setting":{"multiBarChart":{}},"commonSetting":{}}}],"enabled":true,"editorSetting":{"language":"sql"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"count(prediction)\tprediction\n55168\t17\n40401\t4\n34506\t0\n27485\t19\n19830\t14\n18553\t8\n16820\t5\n10621\t6\n7324\t7\n6744\t1\n3297\t12\n3152\t18\n2181\t11\n812\t2\n673\t9\n326\t10\n279\t16\n143\t3\n139\t15\n93\t13\n"}]},"apps":[],"jobName":"paragraph_1499461253782_-10103177","id":"20161031-082621_1269056378","dateCreated":"2017-07-07T14:00:53-0700","dateStarted":"2017-07-10T22:55:11-0700","dateFinished":"2017-07-10T22:55:15-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:932"},{"text":"  model.write.overwrite().save(\"/user/user01/data/savemodel\")","user":"anonymous","dateUpdated":"2017-07-10T23:52:45-0700","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":[],"enabled":true,"editorSetting":{"language":"scala"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1499461253785_-12796419","id":"20161116-075433_1562509402","dateCreated":"2017-07-07T14:00:53-0700","dateStarted":"2017-07-10T23:52:45-0700","dateFinished":"2017-07-10T23:52:48-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:933"},{"text":"","dateUpdated":"2017-07-07T14:00:53-0700","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1499461253785_-12796419","id":"20161213-063243_842303880","dateCreated":"2017-07-07T14:00:53-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:934"}],"name":"Spark ML KMeans - Uber","id":"2CM2756KF","angularObjects":{"2CHXR4W7F:shared_process":[],"2CG6DXK9D:shared_process":[],"2CHH1ACAC:shared_process":[],"2CF1TTFEJ:shared_process":[],"2CHDCCPCB:shared_process":[],"2CFEZNG6F:shared_process":[],"2CESGQKN8:shared_process":[],"2CGFE6AB5:shared_process":[],"2CFJ35H8N:shared_process":[],"2CFZT44X4:shared_process":[],"2CH5RZKHJ:shared_process":[],"2CEX6K3ZQ:shared_process":[],"2CGKBWFY7:shared_process":[],"2CJ888C6R:shared_process":[],"2CEUCFBEM:shared_process":[],"2CGZAMKG3:shared_process":[],"2CJANSWCG:shared_process":[],"2CGNBN97X:shared_process":[],"2CF8ATGYV:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}